@model arTWander.Models.ApplicationUser

@{
    ViewBag.Title = "Details";
}

<h2>Details.</h2>

<div>
    <h4>User</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.UserName)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.UserName)
        </dd>
    </dl>
</div>
<h4>List of roles for this user</h4>
@if (ViewBag.RoleNames.Count == 0)
{
    <hr />
    <p>No roles found for this user.</p>
}

<table class="table">

    @foreach (var item in ViewBag.RoleNames)
    {
        <tr>
            <td>
                @item
            </td>
        </tr>
    }
    <tr>
        <td>
            <form method="post" action="/UsersAdmin/SendEmail" id="SendEmail">
                @Html.AntiForgeryToken()
                <input id="Id" type="hidden" name="Id" value="@Model.Id" />
                <input id="Submit1" type="submit" value="發送驗證信" />
            </form>
            <div id="divConfirm"></div>
        </td>
    </tr>
</table>
<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.Id }) |
    @Html.ActionLink("Back to List", "Index")
</p>
@section scripts{
    <script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        @*$('#SendEmail').submit(function (event) {
            event.preventDefault();

            $.ajax({
                method: 'post',
                url: $(this).attr("action"),
                data: '@Model',
                success: function (data) {
                    $('#result').contents(data);
                }
            });
        });*@

        @*$("#Browser").on("submit", "#SendEmail", function (event) {
            event.preventDefault();
            $.ajax({
                method: 'post',
                url: $(this).attr("action"),
                data: '@Model',
                success: function (data) {
                    $("#Browser").html(data);
                }
            });
        });*@
    </script>
}


